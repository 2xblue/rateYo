(function($){"use strict";var t='<?xml version="1.0" encoding="utf-8"?>'+'<svg version="1.1" id="Layer_1"'+'xmlns="http://www.w3.org/2000/svg"'+'viewBox="0 12.705 512 486.59"'+'x="0px" y="0px"'+'xml:space="preserve">'+'<polygon id="star-icon"'+'points="256.814,12.705 317.205,198.566'+" 512.631,198.566 354.529,313.435 "+"414.918,499.295 256.814,384.427 "+"98.713,499.295 159.102,313.435 "+'1,198.566 196.426,198.566 "/>'+"</svg>";var e={starWidth:"32px",starHeight:"32px",normalFill:"gray",ratedFill:"#f39c12",stroke:"transparent",strokeWidth:0,numStars:5,minValue:0,maxValue:5,padding:5,rating:0,onChange:null,onSet:null};function r(e,r){this.$node=e;this.node=e.get(0);var n=this;var a=r.rating;var i=parseInt(r.starWidth.replace("px","").trim());i=i*r.numStars;e.addClass("jq-ry-container").width(i);var o=$("<div/>").addClass("jq-ry-group-wrapper").appendTo(e);var s=$("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(o);var g=$("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(o);for(var l=0;l<r.maxValue;l++){s.append($(t));g.append($(t))}s.find("svg").attr({width:r.starWidth,height:r.starHeight,fill:r.normalFill,stroke:r.stroke,"stroke-width":r.strokeWidth});g.find("svg").attr({width:r.starWidth,height:r.starHeight,fill:r.ratedFill,stroke:r.stroke,"stroke-width":r.strokeWidth});var f=s.offset(),h=f.left,u=h+s.width();this.getRating=function(){return a};var p=this.setRating=function(t){a=parseFloat(t.toFixed(1));d();e.trigger("rateyo.set",{rating:a});return this};function d(t){t=t||a;var e=t/r.maxValue*100;g.css("width",e+"%")}function v(t){var e=t.pageX;var n;if(e<h){n=0}else if(e>u){n=r.maxValue}else{n=(e-h)/(u-h)*5}return n}function c(t){var r=parseFloat(v(t).toFixed(1));d(r);e.trigger("rateyo.change",{rating:r})}function y(){d();e.trigger("rateyo.change",{rating:a})}function m(t){var e=parseFloat(v(t).toFixed(1));p(e)}function w(t,e){if(r.onChange&&typeof r.onChange==="function"){r.onChange.apply(this,[e.rating,n])}}function x(t,e){if(r.onSet&&typeof r.onSet==="function"){r.onSet.apply(this,[e.rating,n])}}function k(){e.on("mousemove",c).on("mouseenter",c).on("mouseleave",y).on("click",m).on("rateyo.change",w).on("rateyo.set",x)}function C(){e.off("mousemove",c).off("mouseenter",c).off("mouseleave",y).off("click",m).off("rateyo.change",w).on("rateyo.set",x)}this.destroy=function(){C();e.remove()};k();d()}var n=r.prototype.collection=[];function a(t){var e;$.each(n,function(){if(t===this.node){e=this;return false}});return e}function i(t){var i={rating:{getter:"getRating",setter:"setRating"}};var o=$(this);if(o.length===0){return o}var s=Array.prototype.slice.apply(arguments,[]);if(s.length===0){t=s[0]={}}else if(s.length===1&&typeof s[0]==="object"){t=s[0]}else if(s.length>1&&s[0]==="options"){var g=s[1];if(!i[g]){throw Error("Invalid Option!")}var l=[];var f=s.length===2;var h;if(f){h=a(o.get(o.length-1));if(!h){throw Error("Trying to get options before even initialization")}return h[i[g].getter]()}else{var u=s[2];$.each(o,function(t,e){var r=a($(e).get(0));if(!r){throw Error("Trying to set options before even initialization")}l.push(r[i[g].setter](s[2]))});return $(l)}}else{throw Error("Invalid Arguments")}t=$.extend(JSON.parse(JSON.stringify(e)),t);return $.each(o,function(){n.push(new r($(this),t))})}$.fn.rateYo=i})(jQuery);