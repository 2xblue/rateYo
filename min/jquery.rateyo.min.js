(function($){"use strict";var t='<?xml version="1.0" encoding="utf-8"?>'+'<svg version="1.1" id="Layer_1"'+'xmlns="http://www.w3.org/2000/svg"'+'viewBox="0 12.705 512 486.59"'+'x="0px" y="0px"'+'xml:space="preserve">'+'<polygon id="star-icon"'+'points="256.814,12.705 317.205,198.566'+" 512.631,198.566 354.529,313.435 "+"414.918,499.295 256.814,384.427 "+"98.713,499.295 159.102,313.435 "+'1,198.566 196.426,198.566 "/>'+"</svg>";var e={starWidth:"32px",starHeight:"32px",normalFill:"gray",ratedFill:"#f39c12",stroke:"transparent",strokeWidth:0,numStars:5,minValue:0,maxValue:5,padding:5,rating:0,onEnter:null,onClick:null,onLeave:null};function r(e,r){this.$node=e;this.node=e.get(0);var n=this;var i=r.rating;var o=parseInt(r.starWidth.replace("px","").trim());o=o*r.numStars;e.addClass("jq-ry-container").width(o);var a=$("<div/>").addClass("jq-ry-group-wrapper").appendTo(e);var s=$("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(a);var l=$("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(a);for(var f=0;f<r.maxValue;f++){s.append($(t));l.append($(t))}s.find("svg").attr({width:r.starWidth,height:r.starHeight,fill:r.normalFill,stroke:r.stroke,"stroke-width":r.strokeWidth});l.find("svg").attr({width:r.starWidth,height:r.starHeight,fill:r.ratedFill,stroke:r.stroke,"stroke-width":r.strokeWidth});var u=s.offset(),p=u.left,d=p+s.width();this.getRating=function(){return i};var v=this.setRating=function(t){i=t;return this};function h(t){t=t||i;var e=t/r.maxValue*100;l.css("width",e+"%")}function g(t){var e=t.pageX;var n;if(e<p){n=0}else if(e>d){n=r.maxValue}else{n=(e-p)/(d-p)*5}return n}function c(t){var i=g(t);h(i);if(r.onEnter&&typeof r.onEnter==="function"){r.onEnter.apply(e,[i.toFixed(1),n])}}function y(t){h(g(t))}function m(){h();if(r.onLeave&&typeof r.onLeave==="function"){r.onLeave.apply(e,[i,n])}}function w(t){var i=g(t).toFixed(1);v(i);h();if(r.onClick&&typeof r.onClick==="function"){r.onClick.apply(e,[i,n])}}function x(){e.on("mousemove",c).on("mouseenter",y).on("mouseleave",m).on("click",w)}function k(){e.off("mousemove",c).off("mouseenter",y).off("mouseleave",m).off("click",w)}this.destroy=function(){k();e.remove()};x();h()}var n=r.prototype.collection=[];function i(t){var e;$.each(n,function(){if(t===this.node){e=this;return false}});return e}function o(t){var o={rating:{getter:"getRating",setter:"setRating"}};var a=$(this);if(a.length===0){return a}var s=Array.prototype.slice.apply(arguments,[]);if(s.length===0){t=s[0]={}}else if(s.length===1&&typeof s[0]==="object"){t=s[0]}else if(s.length>1&&s[0]==="options"){var l=s[1];if(!o[l]){throw Error("Invalid Option!")}var f=[];var u=s.length===2;var p;if(u){p=i(a.get(a.length-1));if(!p){throw Error("Trying to get options before even initialization")}return p[l.getter]()}else{var d=s[2];$.each(a,function(t,e){var r=i(e.get(0));if(!r){throw Error("Trying to set options before even initialization")}f.push(r[l.setter](s[2]))});return $(f)}}else{throw Error("Invalid Arguments")}t=$.extend(JSON.parse(JSON.stringify(e)),t);return $.each(a,function(){n.push(new r($(this),t))})}$.fn.rateYo=o})(jQuery);