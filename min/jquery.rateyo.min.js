/*! rateYo - v0.0.1
 * * http://prrashi.github.io/rateyo/
 * * Copyright (c) 2014 Prashanth Pamidi; Licensed MIT */
(function($){"use strict";var t='<?xml version="1.0" encoding="utf-8"?>'+'<svg version="1.1" id="Layer_1"'+'xmlns="http://www.w3.org/2000/svg"'+'viewBox="0 12.705 512 486.59"'+'x="0px" y="0px"'+'xml:space="preserve">'+'<polygon id="star-icon"'+'points="256.814,12.705 317.205,198.566'+" 512.631,198.566 354.529,313.435 "+"414.918,499.295 256.814,384.427 "+"98.713,499.295 159.102,313.435 "+'1,198.566 196.426,198.566 "/>'+"</svg>";var e={starWidth:"32px",starHeight:"32px",normalFill:"gray",ratedFill:"#f39c12",stroke:"transparent",strokeWidth:0,numStars:5,minValue:0,maxValue:5,padding:5,rating:0,onEnter:null,onSet:null,onLeave:null};function n(e,n){this.$node=e;var r=this;var o=n.rating;var a=parseInt(n.starWidth.replace("px","").trim());a=a*n.numStars;e.addClass("jq-ry-container").width(a);var i=$("<div/>").addClass("jq-ry-group-wrapper").appendTo(e);var s=$("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(i);var l=$("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(i);for(var d=0;d<n.maxValue;d++){s.append($(t));l.append($(t))}var p=s.find("svg").attr({width:n.starWidth,height:n.Height,fill:n.normalFill,stroke:n.stroke,"stroke-width":n.strokeWidth});var f=l.find("svg").attr({width:n.starWidth,height:n.Height,fill:n.ratedFill,stroke:n.stroke,"stroke-width":n.strokeWidth});var u=e.height();var v=s.offset(),c=v.left,h=v.top,g=c+s.width(),m=h+u;function y(){return o}function x(t){o=t}function k(t){t=t||o;var e=t/n.maxValue*100;l.css("width",e+"%")}function w(t){var e=t.pageX,r=t.pageY;var o;if(e<c){o=0}else if(e>g){o=n.maxValue}else{o=(e-c)/(g-c)*5}return o}function C(t){var o=w(t);k(o);if(n.onEnter&&typeof n.onEnter==="function"){n.onEnter.apply(e,[o.toFixed(1),r])}}function j(t){k(w(t))}function W(t){k();if(n.onLeave&&typeof n.onLeave==="function"){n.onLeave.apply(e,[o,r])}}function q(t){var o=w(t).toFixed(1);x(o);k();if(n.onClick&&typeof n.onClick==="function"){n.onClick.apply(e,[o,r])}}function F(){e.on("mousemove",C).on("mouseenter",j).on("mouseleave",W).on("click",q)}function L(){e.off("mousemove",C).off("mouseenter",j).off("mouseleave",W).off("click",q)}this.destroy=function(){L();e.remove()};F();k()}var r=n.prototype.collection=[];function o(t){t=t||{};t=$.extend(JSON.parse(JSON.stringify(e)),t);var o=$(this);return $.each(o,function(){r.push(new n($(this),t))})}$.fn.rateYo=o})(jQuery);
